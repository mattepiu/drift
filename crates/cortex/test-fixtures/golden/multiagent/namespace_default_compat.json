{
  "description": "Default namespace backward compatibility: single-agent mode with default namespace behaves identically to v1. All memories in agent://default/, source_agent = 'default'.",
  "input": {
    "mode": "single_agent",
    "multiagent_enabled": false,
    "memories": [
      {
        "id": "mem-compat-001",
        "memory_type": "episodic",
        "summary": "User configured database connection pool",
        "confidence": 0.85,
        "importance": "normal",
        "tags": ["database", "configuration"],
        "namespace": "agent://default/",
        "source_agent": "default"
      },
      {
        "id": "mem-compat-002",
        "memory_type": "semantic",
        "summary": "Connection pool uses max_connections=25",
        "confidence": 0.9,
        "importance": "high",
        "tags": ["database", "connection-pool"],
        "namespace": "agent://default/",
        "source_agent": "default"
      }
    ]
  },
  "expected_output": {
    "all_memories_in_default_namespace": true,
    "default_namespace_uri": "agent://default/",
    "default_source_agent": "default",
    "namespace_is_agent_scope": true,
    "queries_return_same_results": true,
    "no_permission_checks_needed": true,
    "no_provenance_tracking": true,
    "no_trust_scoring": true,
    "backward_compatible_fields": {
      "namespace": "agent://default/",
      "source_agent": "default"
    },
    "notes": "When multiagent.enabled=false, all memories use default namespace and default agent. Existing queries return identical results. No multi-agent overhead."
  }
}
