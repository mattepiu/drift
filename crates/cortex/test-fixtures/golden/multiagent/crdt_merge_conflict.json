{
  "description": "CRDT merge: 2 agents, concurrent content edits via LWW-Register. Higher timestamp wins; same-timestamp tie-break by lexicographic agent_id.",
  "input": {
    "memory_id": "mem-002",
    "initial_memory": {
      "id": "mem-002",
      "memory_type": "semantic",
      "summary": "Original summary",
      "confidence": 0.8,
      "importance": "normal",
      "namespace": "agent://default/",
      "source_agent": "agent-alpha"
    },
    "agents": ["agent-alpha", "agent-beta"],
    "scenarios": [
      {
        "name": "different_timestamps",
        "operations": [
          {
            "agent": "agent-alpha",
            "action": "set_summary",
            "value": "Alpha's summary about auth patterns",
            "timestamp": "2026-01-15T10:00:00Z"
          },
          {
            "agent": "agent-beta",
            "action": "set_summary",
            "value": "Beta's summary about security patterns",
            "timestamp": "2026-01-15T10:00:05Z"
          }
        ],
        "expected": {
          "winner": "agent-beta",
          "merged_summary": "Beta's summary about security patterns",
          "reason": "T2 > T1: later timestamp wins in LWW-Register"
        }
      },
      {
        "name": "same_timestamp_tiebreak",
        "operations": [
          {
            "agent": "aaa-agent",
            "action": "set_summary",
            "value": "Agent AAA's summary",
            "timestamp": "2026-01-15T12:00:00Z"
          },
          {
            "agent": "bbb-agent",
            "action": "set_summary",
            "value": "Agent BBB's summary",
            "timestamp": "2026-01-15T12:00:00Z"
          }
        ],
        "expected": {
          "winner": "bbb-agent",
          "merged_summary": "Agent BBB's summary",
          "reason": "Same timestamp: lexicographic tie-break on agent_id ('bbb-agent' > 'aaa-agent')"
        }
      }
    ]
  },
  "expected_output": {
    "lww_semantics": "last_writer_wins_with_agent_tiebreak",
    "tiebreak_rule": "lexicographic_agent_id_descending"
  }
}
