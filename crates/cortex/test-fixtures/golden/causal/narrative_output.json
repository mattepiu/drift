{
  "description": "Expected narrative text output for a memory with multiple causal connections",
  "input": {
    "nodes": [
      { "memory_id": "mem-k40", "memory_type": "domain_agnostic", "summary": "Discovered memory leak in embedding cache" },
      { "memory_id": "mem-k41", "memory_type": "domain_agnostic", "summary": "Switched from HashMap to moka with size-aware eviction" },
      { "memory_id": "mem-k42", "memory_type": "domain_agnostic", "summary": "Memory usage stabilized at 200MB" },
      { "memory_id": "mem-k43", "memory_type": "domain_agnostic", "summary": "Added memory usage monitoring to health checks" }
    ],
    "edges": [
      { "source": "mem-k40", "target": "mem-k41", "relation": "caused", "strength": 0.95, "evidence": [{ "description": "Memory leak investigation led to cache redesign", "source": "incident-report", "timestamp": "2026-01-18T10:00:00Z" }] },
      { "source": "mem-k41", "target": "mem-k42", "relation": "caused", "strength": 0.90, "evidence": [{ "description": "moka eviction policy prevents unbounded growth", "source": "monitoring-data", "timestamp": "2026-01-19T10:00:00Z" }] },
      { "source": "mem-k40", "target": "mem-k43", "relation": "caused", "strength": 0.80, "evidence": [{ "description": "Leak incident prompted monitoring improvements", "source": "postmortem", "timestamp": "2026-01-20T10:00:00Z" }] }
    ],
    "narrative_for": "mem-k41"
  },
  "expected_output": {
    "narrative": {
      "memory_id": "mem-k41",
      "summary_not_empty": true,
      "sections_min": 2,
      "has_origins_section": true,
      "has_effects_section": true,
      "key_points_min": 2,
      "confidence_min": 0.5,
      "evidence_refs_min": 1
    },
    "origins_should_mention": ["memory leak", "embedding cache"],
    "effects_should_mention": ["memory usage", "200MB"]
  }
}
