{
  "description": "3 related episodic memories + 1 noise point (unrelated topic) â†’ noise should be deferred, not clustered",
  "input": {
    "memories": [
      {
        "id": "ep-030",
        "memory_type": "episodic",
        "content": { "type": "episodic", "data": { "interaction": "Set up SQLite WAL mode for concurrent reads. Configured mmap_size=256MB for performance.", "context": "Storage layer setup", "outcome": "WAL mode enabled" } },
        "summary": "Enabled SQLite WAL mode with mmap_size=256MB",
        "transaction_time": "2026-01-10T10:00:00Z", "valid_time": "2026-01-10T10:00:00Z", "valid_until": null,
        "confidence": 0.88, "importance": "normal",
        "last_accessed": "2026-01-20T08:00:00Z", "access_count": 4,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["sqlite", "wal", "storage"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_ep030"
      },
      {
        "id": "ep-031",
        "memory_type": "episodic",
        "content": { "type": "episodic", "data": { "interaction": "Added FTS5 virtual table for full-text search on memory content. Using BM25 scoring.", "context": "Implementing keyword search", "outcome": "FTS5 index operational" } },
        "summary": "Created FTS5 virtual table with BM25 scoring for keyword search",
        "transaction_time": "2026-01-12T11:00:00Z", "valid_time": "2026-01-12T11:00:00Z", "valid_until": null,
        "confidence": 0.85, "importance": "normal",
        "last_accessed": "2026-01-21T09:00:00Z", "access_count": 3,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["sqlite", "fts5", "search"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_ep031"
      },
      {
        "id": "ep-032",
        "memory_type": "episodic",
        "content": { "type": "episodic", "data": { "interaction": "Configured sqlite-vec extension for vector similarity search. Using cosine distance with 1024-dim embeddings.", "context": "Vector search setup", "outcome": "sqlite-vec operational" } },
        "summary": "Configured sqlite-vec for cosine similarity with 1024-dim vectors",
        "transaction_time": "2026-01-14T14:00:00Z", "valid_time": "2026-01-14T14:00:00Z", "valid_until": null,
        "confidence": 0.87, "importance": "normal",
        "last_accessed": "2026-01-22T10:00:00Z", "access_count": 5,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["sqlite", "vector-search", "embeddings"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_ep032"
      },
      {
        "id": "ep-033",
        "memory_type": "episodic",
        "content": { "type": "episodic", "data": { "interaction": "User prefers dark mode in the IDE and uses Vim keybindings. Set up their workspace preferences.", "context": "Onboarding new team member", "outcome": "Workspace configured" } },
        "summary": "User prefers dark mode and Vim keybindings in IDE",
        "transaction_time": "2026-01-16T09:00:00Z", "valid_time": "2026-01-16T09:00:00Z", "valid_until": null,
        "confidence": 0.75, "importance": "low",
        "last_accessed": "2026-01-17T08:00:00Z", "access_count": 1,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["preferences", "ide", "onboarding"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_ep033"
      }
    ]
  },
  "expected_output": {
    "noise_ids": ["ep-033"],
    "clustered_ids": ["ep-030", "ep-031", "ep-032"],
    "created_count": 1,
    "noise_remains_pending": true,
    "semantic_memory": {
      "memory_type": "semantic",
      "knowledge_contains": ["SQLite", "WAL", "FTS5"],
      "source_episodes": ["ep-030", "ep-031", "ep-032"]
    }
  }
}
