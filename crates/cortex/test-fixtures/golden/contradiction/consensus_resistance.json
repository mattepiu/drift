{
  "description": "Consensus of 3 supporting memories should resist a single contradicting memory",
  "input": {
    "memories": [
      {
        "id": "mem-c30",
        "memory_type": "semantic",
        "content": { "type": "semantic", "data": { "knowledge": "The default token budget for retrieval is 2000 tokens.", "source_episodes": ["ep-c30"], "consolidation_confidence": 0.90 } },
        "summary": "Default retrieval token budget: 2000 tokens",
        "confidence": 0.90, "importance": "normal",
        "transaction_time": "2026-01-10T10:00:00Z", "valid_time": "2026-01-10T10:00:00Z",
        "tags": ["retrieval", "budget"],
        "content_hash": "hash_c30"
      },
      {
        "id": "mem-c31",
        "memory_type": "tribal",
        "content": { "type": "tribal", "data": { "knowledge": "Retrieval budget is set to 2000 tokens by default. This was validated through testing with GPT-4 and Claude context windows.", "severity": "normal", "warnings": [], "consequences": [] } },
        "summary": "2000 token retrieval budget validated with GPT-4 and Claude",
        "confidence": 0.88, "importance": "normal",
        "transaction_time": "2026-01-12T10:00:00Z", "valid_time": "2026-01-12T10:00:00Z",
        "tags": ["retrieval", "budget"],
        "content_hash": "hash_c31"
      },
      {
        "id": "mem-c32",
        "memory_type": "decision",
        "content": { "type": "decision", "data": { "decision": "Set default retrieval budget to 2000 tokens", "rationale": "Balances context richness with LLM focus. Tested across multiple models.", "alternatives": [{ "description": "4000 tokens", "reason_rejected": "Too much context dilutes relevance" }] } },
        "summary": "Decision: 2000 token default budget â€” balances richness and focus",
        "confidence": 0.92, "importance": "high",
        "transaction_time": "2026-01-15T10:00:00Z", "valid_time": "2026-01-15T10:00:00Z",
        "tags": ["retrieval", "budget", "decision"],
        "content_hash": "hash_c32"
      },
      {
        "id": "mem-c33",
        "memory_type": "episodic",
        "content": { "type": "episodic", "data": { "interaction": "Someone mentioned the default budget should be 500 tokens to save costs.", "context": "Casual conversation", "outcome": null } },
        "summary": "Suggestion: reduce default budget to 500 tokens",
        "confidence": 0.50, "importance": "low",
        "transaction_time": "2026-01-25T10:00:00Z", "valid_time": "2026-01-25T10:00:00Z",
        "tags": ["retrieval", "budget"],
        "content_hash": "hash_c33"
      }
    ]
  },
  "expected_output": {
    "contradiction_detected": true,
    "consensus_holds": true,
    "consensus_ids": ["mem-c30", "mem-c31", "mem-c32"],
    "contradicting_id": "mem-c33",
    "resolution": "Consensus of 3 high-confidence memories (2000 tokens) resists single low-confidence contradiction (500 tokens). The contradicting memory's confidence should be reduced, not the consensus.",
    "confidence_adjustment": {
      "mem-c33_confidence_reduced": true,
      "consensus_confidence_unchanged": true
    }
  }
}
