{
  "description": "Vector search should find semantically similar memory even without exact keyword overlap",
  "input": {
    "stored_memories": [
      {
        "id": "mem-r10",
        "memory_type": "semantic",
        "content": { "type": "semantic", "data": { "knowledge": "The authentication system uses JWT tokens with RS256 signing. Tokens expire after 1 hour. Refresh tokens last 30 days and are stored in HttpOnly cookies.", "source_episodes": ["ep-100", "ep-101"], "consolidation_confidence": 0.88 } },
        "summary": "Auth uses JWT RS256, 1h expiry, refresh in HttpOnly cookies",
        "transaction_time": "2026-01-15T10:00:00Z", "valid_time": "2026-01-15T10:00:00Z", "valid_until": null,
        "confidence": 0.88, "importance": "high",
        "last_accessed": "2026-01-25T08:00:00Z", "access_count": 10,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["auth", "jwt", "security"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_r10"
      },
      {
        "id": "mem-r11",
        "memory_type": "decision",
        "content": { "type": "decision", "data": { "decision": "Use PostgreSQL for the user service", "rationale": "Need ACID transactions and complex queries", "alternatives": [{ "description": "MongoDB", "reason_rejected": "Lack of ACID guarantees for financial data" }] } },
        "summary": "Chose PostgreSQL for user service â€” ACID needed for financial data",
        "transaction_time": "2026-01-12T10:00:00Z", "valid_time": "2026-01-12T10:00:00Z", "valid_until": null,
        "confidence": 0.92, "importance": "high",
        "last_accessed": "2026-01-22T08:00:00Z", "access_count": 6,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["database", "postgresql"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_r11"
      }
    ],
    "query": {
      "focus": "How does user login work? What signing algorithm do we use?",
      "intent": "understand_code",
      "active_files": [],
      "budget": 2000,
      "sent_ids": []
    }
  },
  "expected_output": {
    "results_min": 1,
    "must_contain_ids": ["mem-r10"],
    "top_result_id": "mem-r10",
    "search_method": "vector_similarity",
    "reason": "Query about login/signing is semantically close to JWT/RS256 auth memory despite no exact keyword match"
  }
}
