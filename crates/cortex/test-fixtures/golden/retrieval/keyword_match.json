{
  "description": "FTS5 keyword search should find exact keyword match in memory content",
  "input": {
    "stored_memories": [
      {
        "id": "mem-r01",
        "memory_type": "tribal",
        "content": { "type": "tribal", "data": { "knowledge": "Never use SELECT * in production queries. Always specify column names explicitly to avoid schema drift issues.", "severity": "high", "warnings": ["Performance degradation with wide tables", "Breaking changes when columns added"], "consequences": ["Query plans become unpredictable", "API contracts break silently"] } },
        "summary": "Never use SELECT * in production â€” specify columns explicitly",
        "transaction_time": "2026-01-10T10:00:00Z", "valid_time": "2026-01-10T10:00:00Z", "valid_until": null,
        "confidence": 0.95, "importance": "high",
        "last_accessed": "2026-01-25T08:00:00Z", "access_count": 15,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["sql", "best-practices", "production"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_r01"
      },
      {
        "id": "mem-r02",
        "memory_type": "procedural",
        "content": { "type": "procedural", "data": { "title": "Deploy to staging", "steps": [{ "order": 1, "instruction": "Run cargo test --all", "completed": false }, { "order": 2, "instruction": "Build release binary", "completed": false }], "prerequisites": ["CI green"] } },
        "summary": "Staging deployment procedure: test, build, deploy",
        "transaction_time": "2026-01-12T10:00:00Z", "valid_time": "2026-01-12T10:00:00Z", "valid_until": null,
        "confidence": 0.88, "importance": "normal",
        "last_accessed": "2026-01-20T08:00:00Z", "access_count": 4,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["deployment", "staging"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_r02"
      }
    ],
    "query": {
      "focus": "SELECT * production queries",
      "intent": null,
      "active_files": [],
      "budget": 2000,
      "sent_ids": []
    }
  },
  "expected_output": {
    "results_min": 1,
    "must_contain_ids": ["mem-r01"],
    "top_result_id": "mem-r01",
    "search_method": "fts5_keyword"
  }
}
