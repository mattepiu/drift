{
  "description": "10 parallel reads + 1 write â†’ no corruption, all reads return valid data",
  "scenario": {
    "name": "concurrent_access",
    "setup": {
      "pre_populate": 100,
      "memory_types": ["semantic", "tribal", "episodic", "decision"],
      "description": "Pre-populate database with 100 memories of mixed types"
    },
    "concurrent_operations": {
      "readers": {
        "count": 10,
        "operation": "retrieve",
        "queries": [
          { "focus": "database configuration", "budget": 2000 },
          { "focus": "error handling", "budget": 2000 },
          { "focus": "authentication", "budget": 2000 },
          { "focus": "caching strategy", "budget": 2000 },
          { "focus": "deployment pipeline", "budget": 2000 },
          { "focus": "testing practices", "budget": 2000 },
          { "focus": "code review", "budget": 2000 },
          { "focus": "monitoring setup", "budget": 2000 },
          { "focus": "API design", "budget": 2000 },
          { "focus": "security audit", "budget": 2000 }
        ],
        "repeat_count": 5
      },
      "writer": {
        "count": 1,
        "operation": "create_and_update",
        "actions": [
          { "type": "create", "memory_type": "episodic", "count": 10 },
          { "type": "update_confidence", "count": 5 },
          { "type": "archive", "count": 3 },
          { "type": "create", "memory_type": "semantic", "count": 5 }
        ]
      }
    },
    "expected": {
      "no_corruption": true,
      "all_reads_return_valid_data": true,
      "no_deadlocks": true,
      "no_sqlite_busy_errors": true,
      "writer_operations_complete": true,
      "wal_mode_enables_concurrent_reads": true
    }
  }
}
