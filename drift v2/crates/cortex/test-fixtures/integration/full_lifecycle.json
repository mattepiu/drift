{
  "description": "Full lifecycle integration test: create → consolidate → retrieve → decay → validate",
  "scenario": {
    "name": "full_lifecycle",
    "steps": [
      {
        "step": 1,
        "action": "create_memories",
        "description": "Create 50 episodic memories across 5 topic clusters",
        "clusters": [
          { "topic": "database_configuration", "count": 10, "tags": ["database", "config"] },
          { "topic": "error_handling", "count": 10, "tags": ["errors", "rust"] },
          { "topic": "authentication", "count": 10, "tags": ["auth", "security"] },
          { "topic": "caching_strategy", "count": 10, "tags": ["cache", "performance"] },
          { "topic": "deployment_pipeline", "count": 10, "tags": ["ci", "deployment"] }
        ],
        "expected": {
          "total_created": 50,
          "all_type_episodic": true,
          "all_confidence_above": 0.7
        }
      },
      {
        "step": 2,
        "action": "consolidate",
        "description": "Run consolidation on all 50 episodic memories",
        "expected": {
          "semantic_created_min": 3,
          "semantic_created_max": 10,
          "episodic_archived_min": 20,
          "no_errors": true,
          "metrics_precision_min": 0.3
        }
      },
      {
        "step": 3,
        "action": "retrieve",
        "description": "Query each topic and verify relevant memories are returned",
        "queries": [
          { "focus": "database configuration settings", "expected_results_min": 1 },
          { "focus": "error handling patterns in Rust", "expected_results_min": 1 },
          { "focus": "authentication and security", "expected_results_min": 1 },
          { "focus": "caching and performance optimization", "expected_results_min": 1 },
          { "focus": "CI/CD deployment pipeline", "expected_results_min": 1 }
        ],
        "expected": {
          "all_queries_return_results": true,
          "budget_never_exceeded": true
        }
      },
      {
        "step": 4,
        "action": "decay",
        "description": "Simulate time passage and run decay on all memories",
        "time_advance_days": 30,
        "expected": {
          "all_confidences_decreased": true,
          "all_confidences_bounded_0_1": true,
          "critical_memories_decay_slower": true,
          "no_memory_below_zero": true
        }
      },
      {
        "step": 5,
        "action": "validate",
        "description": "Run 4-dimension validation on all remaining memories",
        "expected": {
          "all_memories_validated": true,
          "dimension_scores_bounded_0_1": true,
          "healing_actions_generated_for_low_scores": true,
          "no_unhandled_errors": true
        }
      }
    ]
  },
  "success_criteria": {
    "all_steps_complete": true,
    "no_data_loss": true,
    "no_corruption": true,
    "total_time_max_seconds": 30
  }
}
