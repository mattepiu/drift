{
  "description": "Counterfactual analysis: 'What if X didn't happen?' â€” identify all downstream effects that would be affected",
  "input": {
    "nodes": [
      { "memory_id": "mem-k30", "memory_type": "domain_agnostic", "summary": "Adopted TypeScript for the MCP layer" },
      { "memory_id": "mem-k31", "memory_type": "domain_agnostic", "summary": "Used napi-rs for Rust-TypeScript interop" },
      { "memory_id": "mem-k32", "memory_type": "domain_agnostic", "summary": "Built 33 MCP tool wrappers in TypeScript" },
      { "memory_id": "mem-k33", "memory_type": "domain_agnostic", "summary": "Vitest used for TypeScript testing" },
      { "memory_id": "mem-k34", "memory_type": "domain_agnostic", "summary": "Unrelated: SQLite WAL mode enabled" }
    ],
    "edges": [
      { "source": "mem-k30", "target": "mem-k31", "relation": "caused", "strength": 0.95, "evidence": [] },
      { "source": "mem-k30", "target": "mem-k33", "relation": "caused", "strength": 0.90, "evidence": [] },
      { "source": "mem-k31", "target": "mem-k32", "relation": "enabled", "strength": 0.92, "evidence": [] }
    ],
    "counterfactual_remove": "mem-k30"
  },
  "expected_output": {
    "affected_ids": ["mem-k31", "mem-k32", "mem-k33"],
    "unaffected_ids": ["mem-k34"],
    "impact_chain": {
      "direct": ["mem-k31", "mem-k33"],
      "transitive": ["mem-k32"]
    },
    "narrative_contains": "If 'Adopted TypeScript for the MCP layer' had not occurred"
  }
}
