{
  "description": "Confidence ripple through relationship graph — when a memory's confidence drops, connected memories should be affected",
  "input": {
    "memories": [
      {
        "id": "mem-c40",
        "memory_type": "semantic",
        "content": { "type": "semantic", "data": { "knowledge": "The API uses OAuth 2.0 with PKCE for authentication.", "source_episodes": ["ep-c40"], "consolidation_confidence": 0.90 } },
        "summary": "API auth: OAuth 2.0 with PKCE",
        "confidence": 0.90, "importance": "high",
        "tags": ["auth", "oauth"],
        "content_hash": "hash_c40"
      },
      {
        "id": "mem-c41",
        "memory_type": "semantic",
        "content": { "type": "semantic", "data": { "knowledge": "Token refresh uses the OAuth 2.0 refresh token flow. Refresh tokens are stored in HttpOnly cookies.", "source_episodes": ["ep-c41"], "consolidation_confidence": 0.88 } },
        "summary": "Token refresh via OAuth 2.0 refresh flow, HttpOnly cookie storage",
        "confidence": 0.88, "importance": "normal",
        "tags": ["auth", "tokens"],
        "content_hash": "hash_c41"
      },
      {
        "id": "mem-c42",
        "memory_type": "semantic",
        "content": { "type": "semantic", "data": { "knowledge": "Session management relies on the OAuth token lifecycle. Sessions expire when the refresh token expires.", "source_episodes": ["ep-c42"], "consolidation_confidence": 0.85 } },
        "summary": "Sessions tied to OAuth token lifecycle — expire with refresh token",
        "confidence": 0.85, "importance": "normal",
        "tags": ["auth", "sessions"],
        "content_hash": "hash_c42"
      }
    ],
    "relationships": [
      { "source_id": "mem-c40", "target_id": "mem-c41", "relationship_type": "supports", "strength": 0.9 },
      { "source_id": "mem-c41", "target_id": "mem-c42", "relationship_type": "supports", "strength": 0.85 }
    ],
    "confidence_change": {
      "memory_id": "mem-c40",
      "new_confidence": 0.40,
      "reason": "OAuth 2.0 claim contradicted — system actually uses API keys"
    }
  },
  "expected_output": {
    "propagation_occurred": true,
    "affected_memories": [
      { "id": "mem-c41", "original_confidence": 0.88, "confidence_reduced": true, "reason": "Directly supported by mem-c40 whose confidence dropped" },
      { "id": "mem-c42", "original_confidence": 0.85, "confidence_reduced": true, "reason": "Transitively supported through mem-c41" }
    ],
    "propagation_decay": "Confidence impact diminishes with graph distance — mem-c42 affected less than mem-c41",
    "formula": "delta * relationship_strength * distance_decay_factor"
  }
}
