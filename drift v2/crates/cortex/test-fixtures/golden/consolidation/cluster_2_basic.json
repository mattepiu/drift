{
  "description": "2 episodic memories about the same topic â†’ expected semantic output after consolidation",
  "input": {
    "memories": [
      {
        "id": "ep-001",
        "memory_type": "episodic",
        "content": {
          "type": "episodic",
          "data": {
            "interaction": "User asked how to configure the database connection pool. Showed them the config in settings.toml with max_connections=10 and idle_timeout=300s.",
            "context": "Pair programming session on backend setup",
            "outcome": "Successfully configured connection pool"
          }
        },
        "summary": "Configured DB connection pool: max_connections=10, idle_timeout=300s",
        "transaction_time": "2026-01-15T10:00:00Z",
        "valid_time": "2026-01-15T10:00:00Z",
        "valid_until": null,
        "confidence": 0.85,
        "importance": "normal",
        "last_accessed": "2026-01-20T08:00:00Z",
        "access_count": 3,
        "linked_patterns": [],
        "linked_constraints": [],
        "linked_files": [
          { "file_path": "config/settings.toml", "line_start": 15, "line_end": 20, "content_hash": "abc123" }
        ],
        "linked_functions": [],
        "tags": ["database", "configuration", "connection-pool"],
        "archived": false,
        "superseded_by": null,
        "supersedes": null,
        "content_hash": "hash_ep001"
      },
      {
        "id": "ep-002",
        "memory_type": "episodic",
        "content": {
          "type": "episodic",
          "data": {
            "interaction": "Debugged connection pool exhaustion issue. Root cause was max_connections=10 too low for production. Increased to 25 and added connection_timeout=5s.",
            "context": "Production incident investigation",
            "outcome": "Resolved pool exhaustion by increasing max_connections to 25"
          }
        },
        "summary": "Fixed pool exhaustion: increased max_connections from 10 to 25, added timeout",
        "transaction_time": "2026-01-22T14:30:00Z",
        "valid_time": "2026-01-22T14:30:00Z",
        "valid_until": null,
        "confidence": 0.90,
        "importance": "high",
        "last_accessed": "2026-01-25T09:00:00Z",
        "access_count": 5,
        "linked_patterns": [],
        "linked_constraints": [],
        "linked_files": [
          { "file_path": "config/settings.toml", "line_start": 15, "line_end": 22, "content_hash": "def456" }
        ],
        "linked_functions": [],
        "tags": ["database", "connection-pool", "production", "incident"],
        "archived": false,
        "superseded_by": null,
        "supersedes": null,
        "content_hash": "hash_ep002"
      }
    ]
  },
  "expected_output": {
    "created_count": 1,
    "archived_ids": ["ep-001", "ep-002"],
    "semantic_memory": {
      "memory_type": "semantic",
      "content_type": "semantic",
      "knowledge_contains": ["connection pool", "max_connections", "25"],
      "source_episodes": ["ep-001", "ep-002"],
      "consolidation_confidence_min": 0.5
    },
    "metrics": {
      "precision_min": 0.5,
      "compression_ratio_min": 0.3,
      "lift_min": 0.0,
      "stability_min": 0.0
    }
  }
}
