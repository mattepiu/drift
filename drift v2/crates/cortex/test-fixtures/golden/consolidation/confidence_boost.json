{
  "description": "Cluster of 4 memories â†’ verify confidence boost calculation based on cluster size",
  "input": {
    "memories": [
      {
        "id": "ep-070",
        "memory_type": "episodic",
        "content": { "type": "episodic", "data": { "interaction": "Tokio runtime configured with multi-threaded scheduler for async embedding inference.", "context": "Async runtime setup", "outcome": "Tokio multi-thread enabled" } },
        "summary": "Configured Tokio multi-threaded scheduler for async embedding",
        "transaction_time": "2026-01-08T10:00:00Z", "valid_time": "2026-01-08T10:00:00Z", "valid_until": null,
        "confidence": 0.80, "importance": "normal",
        "last_accessed": "2026-01-20T08:00:00Z", "access_count": 3,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["async", "tokio"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_ep070"
      },
      {
        "id": "ep-071",
        "memory_type": "episodic",
        "content": { "type": "episodic", "data": { "interaction": "Used rayon for data-parallel batch embedding. Splits batch across CPU cores.", "context": "Parallelism optimization", "outcome": "Rayon batch processing working" } },
        "summary": "Rayon for data-parallel batch embedding across CPU cores",
        "transaction_time": "2026-01-10T11:00:00Z", "valid_time": "2026-01-10T11:00:00Z", "valid_until": null,
        "confidence": 0.82, "importance": "normal",
        "last_accessed": "2026-01-21T09:00:00Z", "access_count": 4,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["parallelism", "rayon"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_ep071"
      },
      {
        "id": "ep-072",
        "memory_type": "episodic",
        "content": { "type": "episodic", "data": { "interaction": "Tokio + rayon coexistence: spawn_blocking bridges sync rayon work into async tokio context.", "context": "Concurrency architecture", "outcome": "spawn_blocking pattern established" } },
        "summary": "spawn_blocking bridges rayon sync work into tokio async context",
        "transaction_time": "2026-01-14T14:00:00Z", "valid_time": "2026-01-14T14:00:00Z", "valid_until": null,
        "confidence": 0.88, "importance": "high",
        "last_accessed": "2026-01-23T10:00:00Z", "access_count": 6,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["async", "tokio", "rayon", "concurrency"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_ep072"
      },
      {
        "id": "ep-073",
        "memory_type": "episodic",
        "content": { "type": "episodic", "data": { "interaction": "DashMap for per-session concurrent access. Fine-grained locking avoids global mutex bottleneck.", "context": "Session concurrency design", "outcome": "DashMap adopted for session state" } },
        "summary": "DashMap for per-session concurrent access with fine-grained locking",
        "transaction_time": "2026-01-18T09:00:00Z", "valid_time": "2026-01-18T09:00:00Z", "valid_until": null,
        "confidence": 0.84, "importance": "normal",
        "last_accessed": "2026-01-24T11:00:00Z", "access_count": 3,
        "linked_patterns": [], "linked_constraints": [], "linked_files": [], "linked_functions": [],
        "tags": ["concurrency", "dashmap", "session"],
        "archived": false, "superseded_by": null, "supersedes": null, "content_hash": "hash_ep073"
      }
    ]
  },
  "expected_output": {
    "created_count": 1,
    "cluster_size": 4,
    "confidence_boost": {
      "description": "Larger clusters produce higher confidence in the consolidated memory",
      "min_consolidated_confidence": 0.7,
      "max_consolidated_confidence": 1.0,
      "boost_formula": "base_confidence * (1 + log2(cluster_size) * 0.1)"
    }
  }
}
