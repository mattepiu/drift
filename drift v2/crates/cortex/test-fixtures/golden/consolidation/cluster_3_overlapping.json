{
  "description": "3 episodic memories with high content overlap â†’ deduplication test, should produce 1 semantic memory",
  "input": {
    "memories": [
      {
        "id": "ep-010",
        "memory_type": "episodic",
        "content": {
          "type": "episodic",
          "data": {
            "interaction": "Team decided to use serde for all serialization. JSON for API boundaries, TOML for config files.",
            "context": "Architecture review meeting",
            "outcome": "Agreed on serde + JSON/TOML split"
          }
        },
        "summary": "Decided: serde for serialization, JSON for APIs, TOML for config",
        "transaction_time": "2026-01-10T09:00:00Z",
        "valid_time": "2026-01-10T09:00:00Z",
        "valid_until": null,
        "confidence": 0.88,
        "importance": "normal",
        "last_accessed": "2026-01-18T10:00:00Z",
        "access_count": 4,
        "linked_patterns": [],
        "linked_constraints": [],
        "linked_files": [],
        "linked_functions": [],
        "tags": ["serialization", "serde", "architecture"],
        "archived": false,
        "superseded_by": null,
        "supersedes": null,
        "content_hash": "hash_ep010"
      },
      {
        "id": "ep-011",
        "memory_type": "episodic",
        "content": {
          "type": "episodic",
          "data": {
            "interaction": "Implemented serde derives on all API response types. Using serde_json for HTTP responses and serde with TOML for configuration loading.",
            "context": "Implementation of serialization layer",
            "outcome": "All API types now derive Serialize/Deserialize"
          }
        },
        "summary": "Implemented serde derives on API types, JSON for HTTP, TOML for config",
        "transaction_time": "2026-01-12T14:00:00Z",
        "valid_time": "2026-01-12T14:00:00Z",
        "valid_until": null,
        "confidence": 0.85,
        "importance": "normal",
        "last_accessed": "2026-01-19T11:00:00Z",
        "access_count": 3,
        "linked_patterns": [],
        "linked_constraints": [],
        "linked_files": [
          { "file_path": "src/api/responses.rs", "line_start": 1, "line_end": 50, "content_hash": "resp_hash" }
        ],
        "linked_functions": [],
        "tags": ["serialization", "serde", "api"],
        "archived": false,
        "superseded_by": null,
        "supersedes": null,
        "content_hash": "hash_ep011"
      },
      {
        "id": "ep-012",
        "memory_type": "episodic",
        "content": {
          "type": "episodic",
          "data": {
            "interaction": "Reviewed serialization approach. Confirmed serde with rename_all=camelCase for JSON APIs and snake_case internally. TOML config uses defaults.rs for fallbacks.",
            "context": "Code review of serialization patterns",
            "outcome": "Approved naming conventions for serde"
          }
        },
        "summary": "Reviewed serde: camelCase for JSON APIs, snake_case internal, TOML with defaults",
        "transaction_time": "2026-01-14T16:00:00Z",
        "valid_time": "2026-01-14T16:00:00Z",
        "valid_until": null,
        "confidence": 0.82,
        "importance": "normal",
        "last_accessed": "2026-01-20T09:00:00Z",
        "access_count": 2,
        "linked_patterns": [],
        "linked_constraints": [],
        "linked_files": [],
        "linked_functions": [],
        "tags": ["serialization", "serde", "code-review"],
        "archived": false,
        "superseded_by": null,
        "supersedes": null,
        "content_hash": "hash_ep012"
      }
    ]
  },
  "expected_output": {
    "created_count": 1,
    "archived_ids": ["ep-010", "ep-011", "ep-012"],
    "semantic_memory": {
      "memory_type": "semantic",
      "content_type": "semantic",
      "knowledge_contains": ["serde", "serialization", "JSON", "TOML"],
      "source_episodes": ["ep-010", "ep-011", "ep-012"],
      "consolidation_confidence_min": 0.5
    },
    "metrics": {
      "precision_min": 0.5,
      "compression_ratio_min": 0.3,
      "lift_min": 0.0,
      "stability_min": 0.0
    }
  }
}
